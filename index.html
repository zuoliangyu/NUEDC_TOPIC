<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>全国大学生电子设计竞赛历年真题</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="全国大学生电子设计竞赛（NUEDC）历年真题集合，从1994年到2025年的完整题目资料">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css">
  <link rel="icon" href="assets/LOGO/NUEDC_LOGO.jpg">
  
  <!-- 自定义样式 -->
  <style>
    /* 优化PDF预览样式 */
    .pdf-container {
      width: 100%;
      height: 80vh;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    
    /* 优化侧边栏样式 */
    .sidebar-nav > ul > li {
      margin: 0;
    }
    
    .sidebar-nav > ul > li > p {
      margin: 10px 0 5px 0;
      font-weight: bold;
      color: #2c3e50;
      font-size: 14px;
    }
    
    .sidebar-nav ul li ul {
      padding-left: 20px;
    }
    
    /* 优化主内容区域 */
    .content {
      padding-top: 20px;
    }
    
    .markdown-section h1 {
      color: #2c3e50;
    }
    
    /* 年份标题样式 */
    .year-title {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 15px 20px;
      border-radius: 8px;
      margin: 20px 0;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
    }
    
    /* 题目列表样式 */
    .problem-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }
    
    .problem-card {
      border: 2px solid #e1e8ed;
      border-radius: 8px;
      padding: 15px;
      transition: all 0.3s ease;
      background: white;
    }
    
    .problem-card:hover {
      border-color: #667eea;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
      transform: translateY(-2px);
    }
    
    .problem-title {
      font-weight: bold;
      color: #2c3e50;
      margin-bottom: 8px;
    }
    
    .problem-link {
      color: #667eea;
      text-decoration: none;
      font-size: 14px;
    }
    
    .problem-link:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div id="app">加载中...</div>
  
  <script>
    window.$docsify = {
      name: '全国大学生电子设计竞赛历年真题',
      repo: 'https://github.com/你的用户名/你的仓库名', // 请替换为实际的仓库地址
      loadSidebar: true,
      loadNavbar: false,
      maxLevel: 3,
      subMaxLevel: 2,
      auto2top: true,
      search: {
        maxAge: 86400000,
        paths: 'auto',
        placeholder: '搜索题目...',
        noData: '找不到结果',
        depth: 3
      },
      
      // PDF 插件配置
      pdf: {
        // PDF.js viewer URL
        viewer: 'https://mozilla.github.io/pdf.js/web/viewer.html'
      },
      
      // 分页导航
      pagination: {
        previousText: '上一页',
        nextText: '下一页',
        crossChapter: true,
        crossChapterText: true
      },
      
      // 复制代码插件
      copyCode: {
        buttonText: '复制',
        errorText: '错误',
        successText: '已复制'
      },
      
      // 自定义插件：处理PDF文件链接
      plugins: [
        function(hook, vm) {
          hook.beforeEach(function(content) {
            // 如果是PDF文件，显示PDF查看器
            if (vm.route.path.endsWith('.pdf')) {
              const pdfPath = vm.route.path;
              return `
                <div class="pdf-container">
                  <iframe 
                    src="https://mozilla.github.io/pdf.js/web/viewer.html?file=${encodeURIComponent(window.location.origin + window.location.pathname.replace('index.html', '') + pdfPath)}"
                    width="100%" 
                    height="100%" 
                    style="border: none;">
                  </iframe>
                </div>
                <p style="text-align: center; margin-top: 10px;">
                  <a href="${pdfPath}" download>⬇️ 下载此文件</a>
                </p>
              `;
            }
            
            // 如果是年份页面，生成年份概览
            const yearMatch = vm.route.path.match(/^\/(\d{4})$/);
            if (yearMatch) {
              const year = yearMatch[1];
              return generateYearOverview(year);
            }
            
            return content;
          });
          
          // 添加年份概览生成函数
          function generateYearOverview(year) {
            // 这里需要根据实际的文件结构来生成
            // 由于我们在CI中会复制所有文件，这里可以动态获取
            return `
              <div class="year-title">${year}年 全国大学生电子设计竞赛</div>
              <p>本年度竞赛题目如下，点击可查看详细内容：</p>
              <div id="year-${year}-problems">
                <p>正在加载题目列表...</p>
              </div>
            `;
          }
        }
      ]
    }
  </script>
  
  <!-- Docsify 核心 -->
  <script src="//cdn.jsdelivr.net/npm/docsify@4"></script>
  
  <!-- 搜索插件 -->
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>
  
  <!-- 复制代码插件 -->
  <script src="//cdn.jsdelivr.net/npm/docsify-copy-code@2"></script>
  
  <!-- 分页插件 -->
  <script src="//cdn.jsdelivr.net/npm/docsify-pagination@2/dist/docsify-pagination.min.js"></script>
  
  <!-- Zoom 图片插件 -->
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/zoom-image.min.js"></script>
  
  <!-- 外部链接插件 -->
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/external-script.min.js"></script>
  
  <!-- Prism 语法高亮 -->
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-python.min.js"></script>
  
</body>
</html>